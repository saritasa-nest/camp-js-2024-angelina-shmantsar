<form
	class="auth-form"
	[formGroup]="registrationForm"
	(ngSubmit)="onSubmit()"
>
	<h2 class="title">Register</h2>
	@if (registrationForm.errors?.['passwordMismatch'] && (registrationForm.touched || registrationForm.dirty)) {
		<camp-error [errorMessage]="errorMessages.passwordMismatch" />
	}
	@if ((hasPasswordError$ | async)) {
		<camp-error [errorMessage]="errorMessages.weakPassword" />
	}
	@if (validationService.hasError(controls.email, 'required')) {
		<camp-error [errorMessage]="errorMessages.required" />
	}
	@if (validationService.hasError(controls.email, 'email')) {
		<camp-error [errorMessage]="errorMessages.email" />
	}
	<mat-form-field appearance="outline" class="field">
		<mat-label class="field-title">Email</mat-label>
		<input
			matInput
			placeholder="example@example.com"
			type="email"
			formControlName="email"
		/>
	</mat-form-field>
	@if (validationService.hasError(controls.firstName, 'required')) {
		<camp-error [errorMessage]="errorMessages.required" />
	}
	<mat-form-field appearance="outline" class="field">
		<mat-label class="field-title">First name</mat-label>
		<input
			matInput
			placeholder="Alex"
			type="text"
			formControlName="firstName"
		/>
	</mat-form-field>
	@if (validationService.hasError(controls.lastName, 'required')) {
		<camp-error [errorMessage]="errorMessages.required" />
	}
	<mat-form-field appearance="outline" class="field">
		<mat-label class="field-title">Last name</mat-label>
		<input
			matInput
			placeholder="Brown"
			type="text"
			formControlName="lastName"
		/>
	</mat-form-field>
	@if (validationService.hasError(controls.password, 'required')) {
		<camp-error [errorMessage]="errorMessages.required" />
	}
	@if (validationService.hasError(controls.password, 'minlength')) {
		<camp-error [errorMessage]="errorMessages.minLength" />
	}
	<mat-form-field appearance="outline" class="field">
		<mat-label class="field-title">Password</mat-label>
		<input
			matInput
			placeholder="er123456"
			type="password"
			formControlName="password"
		/>
	</mat-form-field>
	@if (validationService.hasError(controls.retypedPassword, 'required')) {
		<camp-error [errorMessage]="errorMessages.required" />
	}
	<mat-form-field appearance="outline" class="field">
		<mat-label class="field-title">Retyped password</mat-label>
		<input
			matInput
			placeholder="er123456"
			type="password"
			formControlName="retypedPassword"
		/>
	</mat-form-field>
	<button mat-flat-button type="submit" class="submit-button">Register</button>
	<button mat-stroked-button type="button" class="form-change-button" (click)="onFormChange()">
		Already registered? Login
	</button>
</form>
