"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[757],{3757:(S,g,i)=>{i.r(g),i.d(g,{LoginPageComponent:()=>E});var l=i(6610),t=i(7788),s=i(2073),d=i(4587),m=i(2221),e=i(7222),v=i(6914),c=i(7212),p=i(4549),u=i(5981),b=i(7236),y=i(4526),F=i(8823),f=i(6182),C=i(840),M=i(5192);let P=(()=>{class n{constructor(){this.authService=(0,t.WQX)(v.u),this.navigationService=(0,t.WQX)(C.o),this.destroyRef=(0,t.WQX)(t.abz),this.validationService=(0,t.WQX)(p.B),this.formBuilder=(0,t.WQX)(e.ok),this.hasLoginError$=new u.t(!1),this.isPasswordVisible$=new u.t(!1),this.loginForm=this.formBuilder.nonNullable.group({email:this.formBuilder.nonNullable.control("",[e.k0.required,e.k0.email]),password:this.formBuilder.nonNullable.control("",[e.k0.required])}),this.loginError="No active account found with given credentials"}get controls(){return this.loginForm.controls}get isPasswordVisible(){let a=!1;return this.isPasswordVisible$.pipe((0,c.pQ)(this.destroyRef)).subscribe(r=>{a=r}),a}changePasswordVisibility(){this.isPasswordVisible$.next(!this.isPasswordVisible)}onSubmit(){if(this.loginForm.valid){const a=this.loginForm.getRawValue();this.authService.login(a).pipe((0,b.M)(()=>this.navigationService.navigate("")),(0,c.pQ)(this.destroyRef),(0,y.W)(r=>(this.validationService.isLoginError(r)&&this.hasLoginError$.next(!0),(0,F.$)(r)))).subscribe()}}onFormChange(){this.navigationService.navigate("register")}ngOnInit(){this.loginForm.valueChanges.pipe((0,c.pQ)(this.destroyRef)).subscribe(()=>{this.hasLoginError$.next(!1)})}static#t=this.\u0275fac=function(r){return new(r||n)};static#i=this.\u0275cmp=t.VBU({type:n,selectors:[["camp-login-form"]],standalone:!0,features:[t.aNF],decls:25,vars:13,consts:[[1,"auth-form",3,"ngSubmit","formGroup"],[1,"title"],[3,"errorMessage"],["appearance","outline",1,"field"],[1,"field-title"],["matInput","","placeholder","example@example.com","type","email","formControlName","email"],["matInput","","placeholder","er123456","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"password-visibility"],["mat-flat-button","","type","submit",1,"submit-button"],["mat-stroked-button","","type","button",1,"form-change-button",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(1,"h2",1),t.EFF(2,"Login"),t.k0s(),t.nrm(3,"camp-error",2),t.nI1(4,"async"),t.nrm(5,"camp-error",2)(6,"camp-error",2),t.j41(7,"mat-form-field",3)(8,"mat-label",4),t.EFF(9,"Email"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.nrm(11,"camp-error",2),t.j41(12,"mat-form-field",3)(13,"mat-label",4),t.EFF(14,"Password"),t.k0s(),t.nrm(15,"input",6),t.nI1(16,"async"),t.j41(17,"button",7),t.bIt("click",function(){return o.changePasswordVisibility()}),t.j41(18,"mat-icon",8),t.EFF(19),t.nI1(20,"async"),t.k0s()()(),t.j41(21,"button",9),t.EFF(22," Login "),t.k0s(),t.j41(23,"button",10),t.bIt("click",function(){return o.onFormChange()}),t.EFF(24," Not registered yet? Register "),t.k0s()()),2&r&&(t.Y8G("formGroup",o.loginForm),t.R7$(3),t.Y8G("errorMessage",t.bMT(4,7,o.hasLoginError$)?o.loginError:""),t.R7$(2),t.Y8G("errorMessage",o.validationService.hasError(o.controls.email,"required")?o.validationService.getErrorMessage("required"):""),t.R7$(),t.Y8G("errorMessage",o.validationService.hasError(o.controls.email,"email")?o.validationService.getErrorMessage("email"):""),t.R7$(5),t.Y8G("errorMessage",o.validationService.hasError(o.controls.password,"required")?o.validationService.getErrorMessage("required"):""),t.R7$(4),t.Y8G("type",t.bMT(16,9,o.isPasswordVisible$)?"text":"password"),t.R7$(4),t.SpI(" ",t.bMT(20,11,o.isPasswordVisible$)?"visibility_off":"visibility"," "))},dependencies:[l.MD,l.Jj,s.RG,s.rl,s.nJ,s.yw,d.fS,d.fg,m.Hl,m.$z,m.iY,e.X1,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,M.A,f.m_,f.An],styles:["[_nghost-%COMP%]{--auth-form-width: 480px;--auth-buttons-width: 80%;display:flex;justify-content:center}.auth-form[_ngcontent-%COMP%]{width:var(--auth-form-width);height:-moz-fit-content;height:fit-content;padding:var(--size-8) var(--size-10);background-color:var(--anime-accent-light-color);display:flex;flex-direction:column;align-items:center;position:fixed;top:15%;border-radius:var(--size-3)}.title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--anime-primary-dark-color);margin-bottom:var(--size-5)}.field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{color:var(--error-color);width:100%;text-align:left;margin-bottom:var(--size-3)}.password-visibility[_ngcontent-%COMP%]{color:var(--anime-primary-dark-color-disabled)}.submit-button[_ngcontent-%COMP%]{width:var(--auth-buttons-width);border-radius:var(--size-2);margin-bottom:var(--size-5);font-family:var(--main-anime-font-family)}.form-change-button[_ngcontent-%COMP%]{width:var(--auth-buttons-width);border-radius:var(--size-2);background-color:var(--anime-primary-light-color);font-family:var(--main-anime-font-family)}.field-title[_ngcontent-%COMP%]{font-family:var(--main-anime-font-family)}[_ngcontent-%COMP%]::placeholder{font-family:var(--main-anime-font-family)}"],changeDetection:0})}return n})(),E=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#i=this.\u0275cmp=t.VBU({type:n,selectors:[["camp-login-page"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(r,o){1&r&&t.nrm(0,"camp-login-form")},dependencies:[l.MD,P],encapsulation:2,changeDetection:0})}return n})()}}]);