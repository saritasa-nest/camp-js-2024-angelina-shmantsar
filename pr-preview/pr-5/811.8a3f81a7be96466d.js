"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[811],{4811:(S,h,t)=>{t.r(h),t.d(h,{RegistrationPageComponent:()=>E});var l=t(6610),r=t(7788),n=t(2073),u=t(4587),g=t(2221),i=t(7222),v=t(4549),p=t(6914),m=t(7212),f=t(6182),d=t(5981),b=t(7236),y=t(4526),w=t(8823),M=t(840),F=t(5192);let P=(()=>{class o{constructor(){this.validationService=(0,r.WQX)(v.B),this.authService=(0,r.WQX)(p.u),this.navigationService=(0,r.WQX)(M.o),this.destroyRef=(0,r.WQX)(r.abz),this.formBuilder=(0,r.WQX)(i.ok),this.registrationForm=this.formBuilder.nonNullable.group({email:this.formBuilder.nonNullable.control("",[i.k0.required,i.k0.email]),firstName:this.formBuilder.nonNullable.control("",[i.k0.required]),lastName:this.formBuilder.nonNullable.control("",[i.k0.required]),password:this.formBuilder.nonNullable.control("",[i.k0.required,i.k0.minLength(8)]),retypedPassword:this.formBuilder.nonNullable.control("",[i.k0.required])},{validators:this.validationService.passwordIdentityValidator}),this.hasPasswordError$=new d.t(!1),this.isPasswordVisible$=new d.t(!1),this.hasPasswordMismatchError$=new d.t(!1),this.errorMessages={mismatch:"The passwords must match",weakPassword:"Check password. It must contain numeric and alphabetic symbols"}}get controls(){return this.registrationForm.controls}get isPasswordVisible(){let s=!1;return this.isPasswordVisible$.pipe((0,m.pQ)(this.destroyRef)).subscribe(a=>{s=a}),s}changePasswordVisibility(){this.isPasswordVisible$.next(!this.isPasswordVisible)}onFormChange(){this.navigationService.navigate("login")}onSubmit(){if(this.registrationForm.valid){const s=this.registrationForm.getRawValue();this.authService.register(s).pipe((0,b.M)(()=>this.navigationService.navigate("")),(0,m.pQ)(this.destroyRef),(0,y.W)(a=>(this.validationService.isPasswordError(a)&&this.hasPasswordError$.next(!0),(0,w.$)(a)))).subscribe()}}ngOnInit(){this.registrationForm.valueChanges.pipe((0,m.pQ)(this.destroyRef)).subscribe(()=>{this.hasPasswordError$.next(!1),this.hasPasswordMismatchError$.next(this.registrationForm.errors?.passwordMismatch&&(this.registrationForm.touched||this.registrationForm.dirty))})}static#r=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275cmp=r.VBU({type:o,selectors:[["camp-registration-form"]],standalone:!0,features:[r.aNF],decls:46,vars:26,consts:[[1,"auth-form",3,"ngSubmit","formGroup"],[1,"title"],[3,"errorMessage"],["appearance","outline",1,"field"],[1,"field-title"],["matInput","","placeholder","example@example.com","type","email","formControlName","email"],["matInput","","placeholder","Alex","type","text","formControlName","firstName"],["matInput","","placeholder","Brown","type","text","formControlName","lastName"],["matInput","","placeholder","er123456","formControlName","password",3,"type"],["matSuffix","",1,"password-visibility",3,"click"],["matInput","","placeholder","er123456","formControlName","retypedPassword",3,"type"],["mat-flat-button","","type","submit",1,"submit-button"],["mat-stroked-button","","type","button",1,"form-change-button",3,"click"]],template:function(a,e){1&a&&(r.j41(0,"form",0),r.bIt("ngSubmit",function(){return e.onSubmit()}),r.j41(1,"h2",1),r.EFF(2,"Register"),r.k0s(),r.nrm(3,"camp-error",2),r.nI1(4,"async"),r.nrm(5,"camp-error",2),r.nI1(6,"async"),r.nrm(7,"camp-error",2)(8,"camp-error",2),r.j41(9,"mat-form-field",3)(10,"mat-label",4),r.EFF(11,"Email"),r.k0s(),r.nrm(12,"input",5),r.k0s(),r.nrm(13,"camp-error",2),r.j41(14,"mat-form-field",3)(15,"mat-label",4),r.EFF(16,"First name"),r.k0s(),r.nrm(17,"input",6),r.k0s(),r.nrm(18,"camp-error",2),r.j41(19,"mat-form-field",3)(20,"mat-label",4),r.EFF(21,"Last name"),r.k0s(),r.nrm(22,"input",7),r.k0s(),r.nrm(23,"camp-error",2)(24,"camp-error",2),r.j41(25,"mat-form-field",3)(26,"mat-label",4),r.EFF(27,"Password"),r.k0s(),r.nrm(28,"input",8),r.nI1(29,"async"),r.j41(30,"mat-icon",9),r.bIt("click",function(){return e.changePasswordVisibility()}),r.EFF(31),r.nI1(32,"async"),r.k0s()(),r.nrm(33,"camp-error",2),r.j41(34,"mat-form-field",3)(35,"mat-label",4),r.EFF(36,"Retyped password"),r.k0s(),r.nrm(37,"input",10),r.nI1(38,"async"),r.j41(39,"mat-icon",9),r.bIt("click",function(){return e.changePasswordVisibility()}),r.EFF(40),r.nI1(41,"async"),r.k0s()(),r.j41(42,"button",11),r.EFF(43," Register "),r.k0s(),r.j41(44,"button",12),r.bIt("click",function(){return e.onFormChange()}),r.EFF(45," Already registered? Login "),r.k0s()()),2&a&&(r.Y8G("formGroup",e.registrationForm),r.R7$(3),r.Y8G("errorMessage",r.bMT(4,14,e.hasPasswordMismatchError$)?e.errorMessages.mismatch:""),r.R7$(2),r.Y8G("errorMessage",r.bMT(6,16,e.hasPasswordError$)?e.errorMessages.weakPassword:""),r.R7$(2),r.Y8G("errorMessage",e.validationService.hasError(e.controls.email,"required")?e.validationService.getErrorMessage("required"):""),r.R7$(),r.Y8G("errorMessage",e.validationService.hasError(e.controls.email,"email")?e.validationService.getErrorMessage("email"):""),r.R7$(5),r.Y8G("errorMessage",e.validationService.hasError(e.controls.firstName,"required")?e.validationService.getErrorMessage("required"):""),r.R7$(5),r.Y8G("errorMessage",e.validationService.hasError(e.controls.lastName,"required")?e.validationService.getErrorMessage("required"):""),r.R7$(5),r.Y8G("errorMessage",e.validationService.hasError(e.controls.password,"required")?e.validationService.getErrorMessage("required"):""),r.R7$(),r.Y8G("errorMessage",e.validationService.hasError(e.controls.password,"minlength")?e.validationService.getErrorMessage("minlength"):""),r.R7$(4),r.Y8G("type",r.bMT(29,18,e.isPasswordVisible$)?"text":"password"),r.R7$(3),r.SpI(" ",r.bMT(32,20,e.isPasswordVisible$)?"visibility_off":"visibility"," "),r.R7$(2),r.Y8G("errorMessage",e.validationService.hasError(e.controls.retypedPassword,"required")?e.validationService.getErrorMessage("required"):""),r.R7$(4),r.Y8G("type",r.bMT(38,22,e.isPasswordVisible$)?"text":"password"),r.R7$(3),r.SpI(" ",r.bMT(41,24,e.isPasswordVisible$)?"visibility_off":"visibility"," "))},dependencies:[l.MD,l.Jj,n.RG,n.rl,n.nJ,n.yw,u.fS,u.fg,g.Hl,g.$z,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,F.A,f.m_,f.An],styles:["[_nghost-%COMP%]{--auth-form-width: 480px;--auth-buttons-width: 80%;display:flex;justify-content:center}.auth-form[_ngcontent-%COMP%]{width:var(--auth-form-width);height:-moz-fit-content;height:fit-content;padding:var(--size-8) var(--size-10);background-color:var(--anime-accent-light-color);display:flex;flex-direction:column;align-items:center;position:fixed;top:15%;border-radius:var(--size-3)}.title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--anime-primary-dark-color);margin-bottom:var(--size-5)}.field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{color:var(--error-color);width:100%;text-align:left;margin-bottom:var(--size-3)}.password-visibility[_ngcontent-%COMP%]{color:var(--anime-primary-dark-color-disabled);cursor:pointer}.submit-button[_ngcontent-%COMP%]{width:var(--auth-buttons-width);border-radius:var(--size-2);margin-bottom:var(--size-5);font-family:var(--main-anime-font-family)}.form-change-button[_ngcontent-%COMP%]{width:var(--auth-buttons-width);border-radius:var(--size-2);background-color:var(--anime-primary-light-color);font-family:var(--main-anime-font-family)}.field-title[_ngcontent-%COMP%]{font-family:var(--main-anime-font-family)}[_ngcontent-%COMP%]::placeholder{font-family:var(--main-anime-font-family)}"],changeDetection:0})}return o})(),E=(()=>{class o{static#r=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275cmp=r.VBU({type:o,selectors:[["camp-registration-page"]],standalone:!0,features:[r.aNF],decls:1,vars:0,template:function(a,e){1&a&&r.nrm(0,"camp-registration-form")},dependencies:[l.MD,P],encapsulation:2,changeDetection:0})}return o})()}}]);